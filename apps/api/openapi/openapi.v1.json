{
  "openapi": "3.1.0",
  "info": {
    "title": "The DMZ API",
    "description": "Backend API for The DMZ: Archive Gate cybersecurity training platform",
    "version": "1.0.0",
    "contact": {
      "name": "Matrices GmbH"
    },
    "license": {
      "name": "Proprietary - Matrices GmbH"
    }
  },
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      },
      "cookieAuth": {
        "type": "apiKey",
        "in": "cookie",
        "name": "refresh-token"
      },
      "csrfToken": {
        "type": "apiKey",
        "in": "header",
        "name": "x-csrf-token"
      }
    },
    "schemas": {}
  },
  "paths": {
    "/docs/json": {
      "get": {
        "responses": {
          "200": {
            "description": "Default Response"
          }
        }
      }
    },
    "/docs/yaml": {
      "get": {
        "responses": {
          "200": {
            "description": "Default Response"
          }
        }
      }
    },
    "/api/v1/": {
      "get": {
        "responses": {
          "200": {
            "description": "Default Response"
          }
        }
      }
    },
    "/health": {
      "get": {
        "parameters": [
          {
            "schema": {
              "type": "string",
              "enum": ["liveness", "readiness"]
            },
            "in": "query",
            "name": "probe",
            "required": false
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": ["ok"]
                    }
                  },
                  "required": ["status"],
                  "additionalProperties": false
                }
              }
            }
          }
        }
      }
    },
    "/ready": {
      "get": {
        "parameters": [
          {
            "schema": {
              "type": "string",
              "enum": ["liveness", "readiness"]
            },
            "in": "query",
            "name": "probe",
            "required": false
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": ["ok", "degraded"]
                    },
                    "checks": {
                      "type": "object",
                      "properties": {
                        "database": {
                          "type": "object",
                          "properties": {
                            "ok": {
                              "type": "boolean"
                            },
                            "message": {
                              "type": "string"
                            }
                          },
                          "required": ["ok", "message"],
                          "additionalProperties": false
                        },
                        "redis": {
                          "type": "object",
                          "properties": {
                            "ok": {
                              "type": "boolean"
                            },
                            "message": {
                              "type": "string"
                            }
                          },
                          "required": ["ok", "message"],
                          "additionalProperties": false
                        }
                      },
                      "required": ["database", "redis"],
                      "additionalProperties": false
                    }
                  },
                  "required": ["status", "checks"],
                  "additionalProperties": false
                }
              }
            }
          },
          "503": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string",
                      "enum": ["ok", "degraded"]
                    },
                    "checks": {
                      "type": "object",
                      "properties": {
                        "database": {
                          "type": "object",
                          "properties": {
                            "ok": {
                              "type": "boolean"
                            },
                            "message": {
                              "type": "string"
                            }
                          },
                          "required": ["ok", "message"],
                          "additionalProperties": false
                        },
                        "redis": {
                          "type": "object",
                          "properties": {
                            "ok": {
                              "type": "boolean"
                            },
                            "message": {
                              "type": "string"
                            }
                          },
                          "required": ["ok", "message"],
                          "additionalProperties": false
                        }
                      },
                      "required": ["database", "redis"],
                      "additionalProperties": false
                    }
                  },
                  "required": ["status", "checks"],
                  "additionalProperties": false
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/register": {
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email"
                  },
                  "password": {
                    "type": "string",
                    "minLength": 12,
                    "maxLength": 128
                  },
                  "displayName": {
                    "type": "string",
                    "minLength": 2,
                    "maxLength": 64
                  }
                },
                "required": ["email", "password", "displayName"],
                "additionalProperties": false
              }
            }
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "responses": {
          "201": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "user": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "email": {
                          "type": "string",
                          "format": "email"
                        },
                        "displayName": {
                          "type": "string"
                        },
                        "tenantId": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "role": {
                          "type": "string"
                        },
                        "isActive": {
                          "type": "boolean"
                        }
                      },
                      "required": ["id", "email", "displayName", "tenantId", "role", "isActive"],
                      "additionalProperties": false
                    },
                    "accessToken": {
                      "type": "string"
                    }
                  },
                  "required": ["user", "accessToken"],
                  "additionalProperties": false
                }
              }
            }
          },
          "403": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [false]
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "enum": ["TENANT_INACTIVE"]
                        },
                        "message": {
                          "type": "string"
                        },
                        "details": {
                          "type": "object",
                          "properties": {
                            "tenantId": {
                              "type": "string"
                            },
                            "tenantStatus": {
                              "type": "string"
                            }
                          }
                        },
                        "requestId": {
                          "type": "string"
                        }
                      },
                      "required": ["code", "message", "details"]
                    }
                  },
                  "required": ["success", "error"]
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/login": {
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "email": {
                    "type": "string",
                    "format": "email"
                  },
                  "password": {
                    "type": "string",
                    "minLength": 8,
                    "maxLength": 128
                  }
                },
                "required": ["email", "password"],
                "additionalProperties": false
              }
            }
          }
        },
        "security": [
          {
            "cookieAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "user": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "email": {
                          "type": "string",
                          "format": "email"
                        },
                        "displayName": {
                          "type": "string"
                        },
                        "tenantId": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "role": {
                          "type": "string"
                        },
                        "isActive": {
                          "type": "boolean"
                        }
                      },
                      "required": ["id", "email", "displayName", "tenantId", "role", "isActive"],
                      "additionalProperties": false
                    },
                    "accessToken": {
                      "type": "string"
                    }
                  },
                  "required": ["user", "accessToken"],
                  "additionalProperties": false
                }
              }
            }
          },
          "403": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [false]
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "enum": ["TENANT_INACTIVE"]
                        },
                        "message": {
                          "type": "string"
                        },
                        "details": {
                          "type": "object",
                          "properties": {
                            "tenantId": {
                              "type": "string"
                            },
                            "tenantStatus": {
                              "type": "string"
                            }
                          }
                        },
                        "requestId": {
                          "type": "string"
                        }
                      },
                      "required": ["code", "message", "details"]
                    }
                  },
                  "required": ["success", "error"]
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/refresh": {
      "post": {
        "security": [
          {
            "cookieAuth": []
          },
          {
            "csrfToken": []
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "accessToken": {
                      "type": "string"
                    }
                  },
                  "required": ["accessToken"],
                  "additionalProperties": false
                }
              }
            }
          },
          "403": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [false]
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "enum": ["TENANT_INACTIVE"]
                        },
                        "message": {
                          "type": "string"
                        },
                        "details": {
                          "type": "object",
                          "properties": {
                            "tenantId": {
                              "type": "string"
                            },
                            "tenantStatus": {
                              "type": "string"
                            }
                          }
                        },
                        "requestId": {
                          "type": "string"
                        }
                      },
                      "required": ["code", "message", "details"]
                    }
                  },
                  "required": ["success", "error"]
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/logout": {
      "delete": {
        "security": [
          {
            "bearerAuth": []
          },
          {
            "cookieAuth": []
          },
          {
            "csrfToken": []
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    }
                  },
                  "required": ["success"]
                }
              }
            }
          },
          "403": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [false]
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "enum": ["TENANT_INACTIVE"]
                        },
                        "message": {
                          "type": "string"
                        },
                        "details": {
                          "type": "object",
                          "properties": {
                            "tenantId": {
                              "type": "string"
                            },
                            "tenantStatus": {
                              "type": "string"
                            }
                          }
                        },
                        "requestId": {
                          "type": "string"
                        }
                      },
                      "required": ["code", "message", "details"]
                    }
                  },
                  "required": ["success", "error"]
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/me": {
      "get": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "user": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "email": {
                          "type": "string",
                          "format": "email"
                        },
                        "displayName": {
                          "type": "string"
                        },
                        "tenantId": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "role": {
                          "type": "string"
                        },
                        "isActive": {
                          "type": "boolean"
                        }
                      },
                      "required": ["id", "email", "displayName", "tenantId", "role", "isActive"],
                      "additionalProperties": false
                    },
                    "profile": {
                      "type": "object",
                      "properties": {
                        "profileId": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "tenantId": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "userId": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "locale": {
                          "type": "string",
                          "maxLength": 10
                        },
                        "timezone": {
                          "type": "string",
                          "maxLength": 64
                        },
                        "preferences": {
                          "type": "object",
                          "properties": {
                            "themePreferences": {
                              "type": "object",
                              "properties": {
                                "theme": {
                                  "type": "string",
                                  "enum": ["green", "amber", "high-contrast", "enterprise"]
                                },
                                "enableTerminalEffects": {
                                  "type": "boolean"
                                },
                                "effects": {
                                  "type": "object",
                                  "properties": {
                                    "scanlines": {
                                      "type": "boolean"
                                    },
                                    "curvature": {
                                      "type": "boolean"
                                    },
                                    "glow": {
                                      "type": "boolean"
                                    },
                                    "noise": {
                                      "type": "boolean"
                                    },
                                    "vignette": {
                                      "type": "boolean"
                                    }
                                  },
                                  "required": [
                                    "scanlines",
                                    "curvature",
                                    "glow",
                                    "noise",
                                    "vignette"
                                  ],
                                  "additionalProperties": false
                                },
                                "fontSize": {
                                  "type": "number",
                                  "minimum": 12,
                                  "maximum": 32
                                }
                              },
                              "additionalProperties": false
                            },
                            "accessibilityPreferences": {
                              "type": "object",
                              "properties": {
                                "reducedMotion": {
                                  "type": "boolean"
                                },
                                "highContrast": {
                                  "type": "boolean"
                                },
                                "fontSize": {
                                  "type": "number",
                                  "minimum": 12,
                                  "maximum": 32
                                }
                              },
                              "additionalProperties": false
                            }
                          },
                          "additionalProperties": false
                        },
                        "policyLockedPreferences": {
                          "type": "object",
                          "properties": {
                            "theme": {
                              "type": "boolean"
                            },
                            "enableTerminalEffects": {
                              "type": "boolean"
                            },
                            "effects": {
                              "type": "object",
                              "additionalProperties": {
                                "type": "boolean"
                              }
                            },
                            "fontSize": {
                              "type": "boolean"
                            },
                            "reducedMotion": {
                              "type": "boolean"
                            },
                            "highContrast": {
                              "type": "boolean"
                            }
                          },
                          "additionalProperties": false
                        },
                        "accessibilitySettings": {
                          "type": "object",
                          "additionalProperties": {}
                        },
                        "notificationSettings": {
                          "type": "object",
                          "additionalProperties": {}
                        }
                      },
                      "required": [
                        "profileId",
                        "tenantId",
                        "userId",
                        "locale",
                        "timezone",
                        "accessibilitySettings",
                        "notificationSettings"
                      ],
                      "additionalProperties": false
                    },
                    "effectivePreferences": {
                      "type": "object",
                      "properties": {
                        "themePreferences": {
                          "type": "object",
                          "properties": {
                            "theme": {
                              "anyOf": [
                                {
                                  "type": "object",
                                  "properties": {
                                    "value": {},
                                    "source": {
                                      "type": "string",
                                      "enum": ["policy", "server", "local", "os", "default"]
                                    }
                                  },
                                  "required": ["source"],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "null"
                                }
                              ]
                            },
                            "enableTerminalEffects": {
                              "anyOf": [
                                {
                                  "type": "object",
                                  "properties": {
                                    "value": {},
                                    "source": {
                                      "type": "string",
                                      "enum": ["policy", "server", "local", "os", "default"]
                                    }
                                  },
                                  "required": ["source"],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "null"
                                }
                              ]
                            },
                            "effects": {
                              "anyOf": [
                                {
                                  "type": "object",
                                  "properties": {
                                    "value": {},
                                    "source": {
                                      "type": "string",
                                      "enum": ["policy", "server", "local", "os", "default"]
                                    }
                                  },
                                  "required": ["source"],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "null"
                                }
                              ]
                            },
                            "fontSize": {
                              "anyOf": [
                                {
                                  "type": "object",
                                  "properties": {
                                    "value": {},
                                    "source": {
                                      "type": "string",
                                      "enum": ["policy", "server", "local", "os", "default"]
                                    }
                                  },
                                  "required": ["source"],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "null"
                                }
                              ]
                            }
                          },
                          "required": ["theme", "enableTerminalEffects", "effects", "fontSize"],
                          "additionalProperties": false
                        },
                        "accessibilityPreferences": {
                          "type": "object",
                          "properties": {
                            "reducedMotion": {
                              "anyOf": [
                                {
                                  "type": "object",
                                  "properties": {
                                    "value": {},
                                    "source": {
                                      "type": "string",
                                      "enum": ["policy", "server", "local", "os", "default"]
                                    }
                                  },
                                  "required": ["source"],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "null"
                                }
                              ]
                            },
                            "highContrast": {
                              "anyOf": [
                                {
                                  "type": "object",
                                  "properties": {
                                    "value": {},
                                    "source": {
                                      "type": "string",
                                      "enum": ["policy", "server", "local", "os", "default"]
                                    }
                                  },
                                  "required": ["source"],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "null"
                                }
                              ]
                            },
                            "fontSize": {
                              "anyOf": [
                                {
                                  "type": "object",
                                  "properties": {
                                    "value": {},
                                    "source": {
                                      "type": "string",
                                      "enum": ["policy", "server", "local", "os", "default"]
                                    }
                                  },
                                  "required": ["source"],
                                  "additionalProperties": false
                                },
                                {
                                  "type": "null"
                                }
                              ]
                            }
                          },
                          "required": ["reducedMotion", "highContrast", "fontSize"],
                          "additionalProperties": false
                        }
                      },
                      "additionalProperties": false
                    },
                    "permissions": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    },
                    "roles": {
                      "type": "array",
                      "items": {
                        "type": "string"
                      }
                    }
                  },
                  "required": ["user", "permissions", "roles"],
                  "additionalProperties": false
                }
              }
            }
          },
          "403": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [false]
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "enum": ["TENANT_INACTIVE"]
                        },
                        "message": {
                          "type": "string"
                        },
                        "details": {
                          "type": "object",
                          "properties": {
                            "tenantId": {
                              "type": "string"
                            },
                            "tenantStatus": {
                              "type": "string"
                            }
                          }
                        },
                        "requestId": {
                          "type": "string"
                        }
                      },
                      "required": ["code", "message", "details"]
                    }
                  },
                  "required": ["success", "error"]
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/profile": {
      "patch": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "locale": {
                    "type": "string",
                    "maxLength": 10
                  },
                  "timezone": {
                    "type": "string",
                    "maxLength": 64
                  },
                  "preferences": {
                    "type": "object",
                    "properties": {
                      "themePreferences": {
                        "type": "object",
                        "properties": {
                          "theme": {
                            "type": "string",
                            "enum": ["green", "amber", "high-contrast", "enterprise"]
                          },
                          "enableTerminalEffects": {
                            "type": "boolean"
                          },
                          "effects": {
                            "type": "object",
                            "properties": {
                              "scanlines": {
                                "type": "boolean"
                              },
                              "curvature": {
                                "type": "boolean"
                              },
                              "glow": {
                                "type": "boolean"
                              },
                              "noise": {
                                "type": "boolean"
                              },
                              "vignette": {
                                "type": "boolean"
                              }
                            },
                            "required": ["scanlines", "curvature", "glow", "noise", "vignette"],
                            "additionalProperties": false
                          },
                          "fontSize": {
                            "type": "number",
                            "minimum": 12,
                            "maximum": 32
                          }
                        },
                        "additionalProperties": false
                      },
                      "accessibilityPreferences": {
                        "type": "object",
                        "properties": {
                          "reducedMotion": {
                            "type": "boolean"
                          },
                          "highContrast": {
                            "type": "boolean"
                          },
                          "fontSize": {
                            "type": "number",
                            "minimum": 12,
                            "maximum": 32
                          }
                        },
                        "additionalProperties": false
                      }
                    },
                    "additionalProperties": false
                  },
                  "accessibilitySettings": {
                    "type": "object",
                    "additionalProperties": {}
                  },
                  "notificationSettings": {
                    "type": "object",
                    "additionalProperties": {}
                  }
                },
                "additionalProperties": false
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "profileId": {
                      "type": "string",
                      "format": "uuid"
                    },
                    "tenantId": {
                      "type": "string",
                      "format": "uuid"
                    },
                    "userId": {
                      "type": "string",
                      "format": "uuid"
                    },
                    "locale": {
                      "type": "string",
                      "maxLength": 10
                    },
                    "timezone": {
                      "type": "string",
                      "maxLength": 64
                    },
                    "preferences": {
                      "type": "object",
                      "properties": {
                        "themePreferences": {
                          "type": "object",
                          "properties": {
                            "theme": {
                              "type": "string",
                              "enum": ["green", "amber", "high-contrast", "enterprise"]
                            },
                            "enableTerminalEffects": {
                              "type": "boolean"
                            },
                            "effects": {
                              "type": "object",
                              "properties": {
                                "scanlines": {
                                  "type": "boolean"
                                },
                                "curvature": {
                                  "type": "boolean"
                                },
                                "glow": {
                                  "type": "boolean"
                                },
                                "noise": {
                                  "type": "boolean"
                                },
                                "vignette": {
                                  "type": "boolean"
                                }
                              },
                              "required": ["scanlines", "curvature", "glow", "noise", "vignette"],
                              "additionalProperties": false
                            },
                            "fontSize": {
                              "type": "number",
                              "minimum": 12,
                              "maximum": 32
                            }
                          },
                          "additionalProperties": false
                        },
                        "accessibilityPreferences": {
                          "type": "object",
                          "properties": {
                            "reducedMotion": {
                              "type": "boolean"
                            },
                            "highContrast": {
                              "type": "boolean"
                            },
                            "fontSize": {
                              "type": "number",
                              "minimum": 12,
                              "maximum": 32
                            }
                          },
                          "additionalProperties": false
                        }
                      },
                      "additionalProperties": false
                    },
                    "policyLockedPreferences": {
                      "type": "object",
                      "properties": {
                        "theme": {
                          "type": "boolean"
                        },
                        "enableTerminalEffects": {
                          "type": "boolean"
                        },
                        "effects": {
                          "type": "object",
                          "additionalProperties": {
                            "type": "boolean"
                          }
                        },
                        "fontSize": {
                          "type": "boolean"
                        },
                        "reducedMotion": {
                          "type": "boolean"
                        },
                        "highContrast": {
                          "type": "boolean"
                        }
                      },
                      "additionalProperties": false
                    },
                    "accessibilitySettings": {
                      "type": "object",
                      "additionalProperties": {}
                    },
                    "notificationSettings": {
                      "type": "object",
                      "additionalProperties": {}
                    }
                  },
                  "required": [
                    "profileId",
                    "tenantId",
                    "userId",
                    "locale",
                    "timezone",
                    "accessibilitySettings",
                    "notificationSettings"
                  ],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [false]
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "enum": ["VALIDATION_FAILED"]
                        },
                        "message": {
                          "type": "string"
                        },
                        "details": {
                          "type": "object"
                        },
                        "requestId": {
                          "type": "string"
                        }
                      },
                      "required": ["code", "message", "details"]
                    }
                  },
                  "required": ["success", "error"]
                }
              }
            }
          },
          "403": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [false]
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "enum": ["TENANT_INACTIVE"]
                        },
                        "message": {
                          "type": "string"
                        },
                        "details": {
                          "type": "object",
                          "properties": {
                            "tenantId": {
                              "type": "string"
                            },
                            "tenantStatus": {
                              "type": "string"
                            }
                          }
                        },
                        "requestId": {
                          "type": "string"
                        }
                      },
                      "required": ["code", "message", "details"]
                    }
                  },
                  "required": ["success", "error"]
                }
              }
            }
          },
          "404": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [false]
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "enum": ["NOT_FOUND", "RESOURCE_NOT_FOUND", "TENANT_NOT_FOUND"]
                        },
                        "message": {
                          "type": "string"
                        },
                        "details": {
                          "type": "object"
                        },
                        "requestId": {
                          "type": "string"
                        }
                      },
                      "required": ["code", "message", "details"]
                    }
                  },
                  "required": ["success", "error"]
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/health/authenticated": {
      "get": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "status": {
                      "type": "string"
                    },
                    "user": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "tenantId": {
                          "type": "string"
                        },
                        "role": {
                          "type": "string"
                        }
                      },
                      "required": ["id", "tenantId", "role"]
                    }
                  },
                  "required": ["status", "user"]
                }
              }
            }
          },
          "403": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [false]
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "enum": ["TENANT_INACTIVE"]
                        },
                        "message": {
                          "type": "string"
                        },
                        "details": {
                          "type": "object",
                          "properties": {
                            "tenantId": {
                              "type": "string"
                            },
                            "tenantStatus": {
                              "type": "string"
                            }
                          }
                        },
                        "requestId": {
                          "type": "string"
                        }
                      },
                      "required": ["code", "message", "details"]
                    }
                  },
                  "required": ["success", "error"]
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/admin/users": {
      "get": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "users": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "format": "uuid"
                          },
                          "email": {
                            "type": "string",
                            "format": "email"
                          },
                          "displayName": {
                            "type": "string"
                          },
                          "role": {
                            "type": "string"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "success": {
                          "type": "boolean",
                          "enum": [false]
                        },
                        "error": {
                          "type": "object",
                          "properties": {
                            "code": {
                              "type": "string",
                              "enum": [
                                "AUTH_FORBIDDEN",
                                "AUTH_INSUFFICIENT_PERMS",
                                "TENANT_INACTIVE"
                              ]
                            },
                            "message": {
                              "type": "string"
                            },
                            "details": {
                              "type": "object"
                            },
                            "requestId": {
                              "type": "string"
                            }
                          },
                          "required": ["code", "message", "details"]
                        }
                      },
                      "required": ["success", "error"]
                    },
                    {
                      "type": "object",
                      "properties": {
                        "success": {
                          "type": "boolean",
                          "enum": [false]
                        },
                        "error": {
                          "type": "object",
                          "properties": {
                            "code": {
                              "type": "string",
                              "enum": ["TENANT_INACTIVE"]
                            },
                            "message": {
                              "type": "string"
                            },
                            "details": {
                              "type": "object",
                              "properties": {
                                "tenantId": {
                                  "type": "string"
                                },
                                "tenantStatus": {
                                  "type": "string"
                                }
                              }
                            },
                            "requestId": {
                              "type": "string"
                            }
                          },
                          "required": ["code", "message", "details"]
                        }
                      },
                      "required": ["success", "error"]
                    }
                  ]
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/mfa/webauthn/challenge": {
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "challengeType": {
                    "type": "string",
                    "enum": ["registration", "verification"]
                  }
                },
                "required": ["challengeType"],
                "additionalProperties": false
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "challenge": {
                      "type": "string"
                    },
                    "rp": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "name": {
                          "type": "string"
                        }
                      },
                      "required": ["id", "name"],
                      "additionalProperties": false
                    },
                    "user": {
                      "type": "object",
                      "properties": {
                        "id": {
                          "type": "string"
                        },
                        "name": {
                          "type": "string"
                        },
                        "displayName": {
                          "type": "string"
                        }
                      },
                      "required": ["id", "name", "displayName"],
                      "additionalProperties": false
                    },
                    "pubKeyCredParams": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "type": {
                            "type": "string",
                            "enum": ["public-key"]
                          },
                          "alg": {
                            "type": "number"
                          }
                        },
                        "required": ["type", "alg"],
                        "additionalProperties": false
                      }
                    },
                    "timeout": {
                      "type": "number"
                    },
                    "excludeCredentials": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string"
                          },
                          "type": {
                            "type": "string",
                            "enum": ["public-key"]
                          }
                        },
                        "required": ["id", "type"],
                        "additionalProperties": false
                      }
                    },
                    "authenticatorSelection": {
                      "type": "object",
                      "properties": {
                        "requireResidentKey": {
                          "type": "boolean"
                        },
                        "residentKey": {
                          "type": "string",
                          "enum": ["discouraged", "preferred", "required"]
                        },
                        "authenticatorAttachment": {
                          "type": "string",
                          "enum": ["platform", "cross-platform"]
                        },
                        "userVerification": {
                          "type": "string",
                          "enum": ["required", "preferred", "discouraged"]
                        }
                      },
                      "additionalProperties": false
                    },
                    "attestation": {
                      "type": "string",
                      "enum": ["none", "indirect", "direct", "enterprise"]
                    },
                    "extensions": {
                      "type": "object",
                      "additionalProperties": {}
                    }
                  },
                  "required": ["challenge", "rp", "user", "pubKeyCredParams"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [false]
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "enum": ["VALIDATION_FAILED"]
                        },
                        "message": {
                          "type": "string"
                        },
                        "details": {
                          "type": "object"
                        },
                        "requestId": {
                          "type": "string"
                        }
                      },
                      "required": ["code", "message", "details"]
                    }
                  },
                  "required": ["success", "error"]
                }
              }
            }
          },
          "401": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [false]
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "enum": [
                            "AUTH_UNAUTHORIZED",
                            "AUTH_SESSION_EXPIRED",
                            "AUTH_INVALID_TOKEN"
                          ]
                        },
                        "message": {
                          "type": "string"
                        },
                        "details": {
                          "type": "object"
                        },
                        "requestId": {
                          "type": "string"
                        }
                      },
                      "required": ["code", "message", "details"]
                    }
                  },
                  "required": ["success", "error"]
                }
              }
            }
          },
          "403": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [false]
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "enum": ["TENANT_INACTIVE"]
                        },
                        "message": {
                          "type": "string"
                        },
                        "details": {
                          "type": "object",
                          "properties": {
                            "tenantId": {
                              "type": "string"
                            },
                            "tenantStatus": {
                              "type": "string"
                            }
                          }
                        },
                        "requestId": {
                          "type": "string"
                        }
                      },
                      "required": ["code", "message", "details"]
                    }
                  },
                  "required": ["success", "error"]
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/mfa/webauthn/register": {
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "credential": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "rawId": {
                        "type": "string"
                      },
                      "type": {
                        "type": "string",
                        "enum": ["public-key"]
                      },
                      "response": {
                        "type": "object",
                        "properties": {
                          "clientDataJSON": {
                            "type": "string"
                          },
                          "attestationObject": {
                            "type": "string"
                          },
                          "transports": {
                            "type": "array",
                            "items": {
                              "type": "string"
                            }
                          }
                        },
                        "required": ["clientDataJSON", "attestationObject"]
                      }
                    },
                    "required": ["id", "rawId", "type", "response"]
                  },
                  "challengeId": {
                    "type": "string",
                    "format": "uuid"
                  }
                },
                "required": ["credential", "challengeId"]
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "credentialId": {
                      "type": "string",
                      "format": "uuid"
                    }
                  },
                  "required": ["success", "credentialId"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [false]
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "enum": ["VALIDATION_FAILED"]
                        },
                        "message": {
                          "type": "string"
                        },
                        "details": {
                          "type": "object"
                        },
                        "requestId": {
                          "type": "string"
                        }
                      },
                      "required": ["code", "message", "details"]
                    }
                  },
                  "required": ["success", "error"]
                }
              }
            }
          },
          "401": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [false]
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "enum": [
                            "AUTH_UNAUTHORIZED",
                            "AUTH_SESSION_EXPIRED",
                            "AUTH_INVALID_TOKEN"
                          ]
                        },
                        "message": {
                          "type": "string"
                        },
                        "details": {
                          "type": "object"
                        },
                        "requestId": {
                          "type": "string"
                        }
                      },
                      "required": ["code", "message", "details"]
                    }
                  },
                  "required": ["success", "error"]
                }
              }
            }
          },
          "403": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [false]
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "enum": ["TENANT_INACTIVE"]
                        },
                        "message": {
                          "type": "string"
                        },
                        "details": {
                          "type": "object",
                          "properties": {
                            "tenantId": {
                              "type": "string"
                            },
                            "tenantStatus": {
                              "type": "string"
                            }
                          }
                        },
                        "requestId": {
                          "type": "string"
                        }
                      },
                      "required": ["code", "message", "details"]
                    }
                  },
                  "required": ["success", "error"]
                }
              }
            }
          },
          "409": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [false]
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "enum": ["CONFLICT"]
                        },
                        "message": {
                          "type": "string"
                        },
                        "details": {
                          "type": "object"
                        },
                        "requestId": {
                          "type": "string"
                        }
                      },
                      "required": ["code", "message", "details"]
                    }
                  },
                  "required": ["success", "error"]
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/mfa/webauthn/verify": {
      "post": {
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "credential": {
                    "type": "object",
                    "properties": {
                      "id": {
                        "type": "string"
                      },
                      "rawId": {
                        "type": "string"
                      },
                      "type": {
                        "type": "string",
                        "enum": ["public-key"]
                      },
                      "response": {
                        "type": "object",
                        "properties": {
                          "clientDataJSON": {
                            "type": "string"
                          },
                          "authenticatorData": {
                            "type": "string"
                          },
                          "signature": {
                            "type": "string"
                          },
                          "userHandle": {
                            "type": "string"
                          }
                        },
                        "required": ["clientDataJSON", "authenticatorData", "signature"]
                      }
                    },
                    "required": ["id", "rawId", "type", "response"]
                  },
                  "challengeId": {
                    "type": "string",
                    "format": "uuid"
                  }
                },
                "required": ["credential", "challengeId"]
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "mfaVerifiedAt": {
                      "type": "string",
                      "format": "date-time"
                    }
                  },
                  "required": ["success", "mfaVerifiedAt"],
                  "additionalProperties": false
                }
              }
            }
          },
          "400": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [false]
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "enum": ["VALIDATION_FAILED"]
                        },
                        "message": {
                          "type": "string"
                        },
                        "details": {
                          "type": "object"
                        },
                        "requestId": {
                          "type": "string"
                        }
                      },
                      "required": ["code", "message", "details"]
                    }
                  },
                  "required": ["success", "error"]
                }
              }
            }
          },
          "401": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [false]
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "enum": [
                            "AUTH_UNAUTHORIZED",
                            "AUTH_SESSION_EXPIRED",
                            "AUTH_INVALID_TOKEN"
                          ]
                        },
                        "message": {
                          "type": "string"
                        },
                        "details": {
                          "type": "object"
                        },
                        "requestId": {
                          "type": "string"
                        }
                      },
                      "required": ["code", "message", "details"]
                    }
                  },
                  "required": ["success", "error"]
                }
              }
            }
          },
          "403": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [false]
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "enum": ["TENANT_INACTIVE"]
                        },
                        "message": {
                          "type": "string"
                        },
                        "details": {
                          "type": "object",
                          "properties": {
                            "tenantId": {
                              "type": "string"
                            },
                            "tenantStatus": {
                              "type": "string"
                            }
                          }
                        },
                        "requestId": {
                          "type": "string"
                        }
                      },
                      "required": ["code", "message", "details"]
                    }
                  },
                  "required": ["success", "error"]
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/mfa/status": {
      "get": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "mfaRequired": {
                      "type": "boolean"
                    },
                    "mfaVerified": {
                      "type": "boolean"
                    },
                    "method": {
                      "anyOf": [
                        {
                          "type": "string",
                          "enum": ["webauthn", "totp", "sms", "email"]
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "mfaVerifiedAt": {
                      "anyOf": [
                        {
                          "type": "string",
                          "format": "date-time"
                        },
                        {
                          "type": "null"
                        }
                      ]
                    },
                    "hasCredentials": {
                      "type": "boolean"
                    }
                  },
                  "required": [
                    "mfaRequired",
                    "mfaVerified",
                    "method",
                    "mfaVerifiedAt",
                    "hasCredentials"
                  ],
                  "additionalProperties": false
                }
              }
            }
          },
          "401": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [false]
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "enum": [
                            "AUTH_UNAUTHORIZED",
                            "AUTH_SESSION_EXPIRED",
                            "AUTH_INVALID_TOKEN"
                          ]
                        },
                        "message": {
                          "type": "string"
                        },
                        "details": {
                          "type": "object"
                        },
                        "requestId": {
                          "type": "string"
                        }
                      },
                      "required": ["code", "message", "details"]
                    }
                  },
                  "required": ["success", "error"]
                }
              }
            }
          },
          "403": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [false]
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "enum": ["TENANT_INACTIVE"]
                        },
                        "message": {
                          "type": "string"
                        },
                        "details": {
                          "type": "object",
                          "properties": {
                            "tenantId": {
                              "type": "string"
                            },
                            "tenantStatus": {
                              "type": "string"
                            }
                          }
                        },
                        "requestId": {
                          "type": "string"
                        }
                      },
                      "required": ["code", "message", "details"]
                    }
                  },
                  "required": ["success", "error"]
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/mfa/webauthn/credentials": {
      "get": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "credentials": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": {
                            "type": "string",
                            "format": "uuid"
                          },
                          "credentialId": {
                            "type": "string"
                          },
                          "transports": {
                            "type": "array",
                            "items": {
                              "type": "string",
                              "enum": ["usb", "nfc", "ble", "internal"]
                            }
                          },
                          "createdAt": {
                            "type": "string",
                            "format": "date-time"
                          }
                        },
                        "required": ["id", "credentialId", "createdAt"],
                        "additionalProperties": false
                      }
                    }
                  },
                  "required": ["credentials"],
                  "additionalProperties": false
                }
              }
            }
          },
          "401": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [false]
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "enum": [
                            "AUTH_UNAUTHORIZED",
                            "AUTH_SESSION_EXPIRED",
                            "AUTH_INVALID_TOKEN"
                          ]
                        },
                        "message": {
                          "type": "string"
                        },
                        "details": {
                          "type": "object"
                        },
                        "requestId": {
                          "type": "string"
                        }
                      },
                      "required": ["code", "message", "details"]
                    }
                  },
                  "required": ["success", "error"]
                }
              }
            }
          },
          "403": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [false]
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "enum": ["TENANT_INACTIVE"]
                        },
                        "message": {
                          "type": "string"
                        },
                        "details": {
                          "type": "object",
                          "properties": {
                            "tenantId": {
                              "type": "string"
                            },
                            "tenantStatus": {
                              "type": "string"
                            }
                          }
                        },
                        "requestId": {
                          "type": "string"
                        }
                      },
                      "required": ["code", "message", "details"]
                    }
                  },
                  "required": ["success", "error"]
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/auth/mfa/webauthn/credentials/{credentialId}": {
      "delete": {
        "parameters": [
          {
            "schema": {
              "type": "string",
              "format": "uuid"
            },
            "in": "path",
            "name": "credentialId",
            "required": true
          }
        ],
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "204": {
            "description": "Default Response"
          },
          "401": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [false]
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "enum": [
                            "AUTH_UNAUTHORIZED",
                            "AUTH_SESSION_EXPIRED",
                            "AUTH_INVALID_TOKEN"
                          ]
                        },
                        "message": {
                          "type": "string"
                        },
                        "details": {
                          "type": "object"
                        },
                        "requestId": {
                          "type": "string"
                        }
                      },
                      "required": ["code", "message", "details"]
                    }
                  },
                  "required": ["success", "error"]
                }
              }
            }
          },
          "403": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [false]
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "enum": ["TENANT_INACTIVE"]
                        },
                        "message": {
                          "type": "string"
                        },
                        "details": {
                          "type": "object",
                          "properties": {
                            "tenantId": {
                              "type": "string"
                            },
                            "tenantStatus": {
                              "type": "string"
                            }
                          }
                        },
                        "requestId": {
                          "type": "string"
                        }
                      },
                      "required": ["code", "message", "details"]
                    }
                  },
                  "required": ["success", "error"]
                }
              }
            }
          },
          "404": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [false]
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "enum": ["NOT_FOUND", "RESOURCE_NOT_FOUND", "TENANT_NOT_FOUND"]
                        },
                        "message": {
                          "type": "string"
                        },
                        "details": {
                          "type": "object"
                        },
                        "requestId": {
                          "type": "string"
                        }
                      },
                      "required": ["code", "message", "details"]
                    }
                  },
                  "required": ["success", "error"]
                }
              }
            }
          }
        }
      }
    },
    "/api/v1/game/session": {
      "post": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "schemaVersion": {
                          "type": "number",
                          "enum": [1]
                        },
                        "tenantId": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "sessionId": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "userId": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "day": {
                          "type": "integer",
                          "minimum": 1,
                          "default": 1
                        },
                        "funds": {
                          "type": "integer",
                          "minimum": 0,
                          "default": 1000
                        },
                        "clientCount": {
                          "type": "integer",
                          "minimum": 0,
                          "default": 5
                        },
                        "threatLevel": {
                          "type": "string",
                          "enum": ["low", "medium", "high"],
                          "default": "low"
                        },
                        "facilityLoadout": {
                          "type": "object",
                          "properties": {
                            "defenseLevel": {
                              "type": "integer",
                              "minimum": 1,
                              "maximum": 10,
                              "default": 1
                            },
                            "serverLevel": {
                              "type": "integer",
                              "minimum": 1,
                              "maximum": 10,
                              "default": 1
                            },
                            "networkLevel": {
                              "type": "integer",
                              "minimum": 1,
                              "maximum": 10,
                              "default": 1
                            }
                          },
                          "additionalProperties": false,
                          "default": {
                            "defenseLevel": 1,
                            "serverLevel": 1,
                            "networkLevel": 1
                          }
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time"
                        }
                      },
                      "required": [
                        "schemaVersion",
                        "tenantId",
                        "sessionId",
                        "userId",
                        "createdAt",
                        "updatedAt"
                      ],
                      "additionalProperties": false
                    }
                  },
                  "required": ["data"],
                  "additionalProperties": false
                }
              }
            }
          },
          "401": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [false]
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "enum": [
                            "AUTH_UNAUTHORIZED",
                            "AUTH_SESSION_EXPIRED",
                            "AUTH_INVALID_TOKEN"
                          ]
                        },
                        "message": {
                          "type": "string"
                        },
                        "details": {
                          "type": "object"
                        },
                        "requestId": {
                          "type": "string"
                        }
                      },
                      "required": ["code", "message", "details"]
                    }
                  },
                  "required": ["success", "error"]
                }
              }
            }
          },
          "403": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [false]
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "enum": ["TENANT_INACTIVE"]
                        },
                        "message": {
                          "type": "string"
                        },
                        "details": {
                          "type": "object",
                          "properties": {
                            "tenantId": {
                              "type": "string"
                            },
                            "tenantStatus": {
                              "type": "string"
                            }
                          }
                        },
                        "requestId": {
                          "type": "string"
                        }
                      },
                      "required": ["code", "message", "details"]
                    }
                  },
                  "required": ["success", "error"]
                }
              }
            }
          }
        }
      },
      "get": {
        "security": [
          {
            "bearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "data": {
                      "type": "object",
                      "properties": {
                        "schemaVersion": {
                          "type": "number",
                          "enum": [1]
                        },
                        "tenantId": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "sessionId": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "userId": {
                          "type": "string",
                          "format": "uuid"
                        },
                        "day": {
                          "type": "integer",
                          "minimum": 1,
                          "default": 1
                        },
                        "funds": {
                          "type": "integer",
                          "minimum": 0,
                          "default": 1000
                        },
                        "clientCount": {
                          "type": "integer",
                          "minimum": 0,
                          "default": 5
                        },
                        "threatLevel": {
                          "type": "string",
                          "enum": ["low", "medium", "high"],
                          "default": "low"
                        },
                        "facilityLoadout": {
                          "type": "object",
                          "properties": {
                            "defenseLevel": {
                              "type": "integer",
                              "minimum": 1,
                              "maximum": 10,
                              "default": 1
                            },
                            "serverLevel": {
                              "type": "integer",
                              "minimum": 1,
                              "maximum": 10,
                              "default": 1
                            },
                            "networkLevel": {
                              "type": "integer",
                              "minimum": 1,
                              "maximum": 10,
                              "default": 1
                            }
                          },
                          "additionalProperties": false,
                          "default": {
                            "defenseLevel": 1,
                            "serverLevel": 1,
                            "networkLevel": 1
                          }
                        },
                        "createdAt": {
                          "type": "string",
                          "format": "date-time"
                        },
                        "updatedAt": {
                          "type": "string",
                          "format": "date-time"
                        }
                      },
                      "required": [
                        "schemaVersion",
                        "tenantId",
                        "sessionId",
                        "userId",
                        "createdAt",
                        "updatedAt"
                      ],
                      "additionalProperties": false
                    }
                  },
                  "required": ["data"],
                  "additionalProperties": false
                }
              }
            }
          },
          "401": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [false]
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "enum": [
                            "AUTH_UNAUTHORIZED",
                            "AUTH_SESSION_EXPIRED",
                            "AUTH_INVALID_TOKEN"
                          ]
                        },
                        "message": {
                          "type": "string"
                        },
                        "details": {
                          "type": "object"
                        },
                        "requestId": {
                          "type": "string"
                        }
                      },
                      "required": ["code", "message", "details"]
                    }
                  },
                  "required": ["success", "error"]
                }
              }
            }
          },
          "403": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [false]
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "enum": ["TENANT_INACTIVE"]
                        },
                        "message": {
                          "type": "string"
                        },
                        "details": {
                          "type": "object",
                          "properties": {
                            "tenantId": {
                              "type": "string"
                            },
                            "tenantStatus": {
                              "type": "string"
                            }
                          }
                        },
                        "requestId": {
                          "type": "string"
                        }
                      },
                      "required": ["code", "message", "details"]
                    }
                  },
                  "required": ["success", "error"]
                }
              }
            }
          },
          "404": {
            "description": "Default Response",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean",
                      "enum": [false]
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string",
                          "enum": ["NOT_FOUND", "RESOURCE_NOT_FOUND", "TENANT_NOT_FOUND"]
                        },
                        "message": {
                          "type": "string"
                        },
                        "details": {
                          "type": "object"
                        },
                        "requestId": {
                          "type": "string"
                        }
                      },
                      "required": ["code", "message", "details"]
                    }
                  },
                  "required": ["success", "error"]
                }
              }
            }
          }
        }
      }
    }
  },
  "servers": [
    {
      "url": "http://localhost:3001",
      "description": "Local development"
    }
  ]
}
