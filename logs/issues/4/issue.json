{"assignees":[],"author":{"id":"MDQ6VXNlcjIyODUzMjIy","is_bot":false,"login":"TheMorpheus407","name":"The Morpheus Tutorials"},"body":"## Summary\nCreate the `packages/shared` workspace package containing shared TypeScript types, constants, and interfaces used by both the frontend (`apps/web`) and backend (`apps/api`). This package establishes the cross-package type contract.\n\n## Requirements\n\n### Package Structure\n```\npackages/shared/\n  src/\n    index.ts                  # Barrel export\n    types/\n      api.ts                  # API response/request types\n      auth.ts                 # Auth types (User, Session, JWT payload)\n      game.ts                 # Game types (placeholder stubs)\n      tenant.ts               # Tenant types\n      common.ts               # Pagination, SortOrder, DateRange\n    constants/\n      error-codes.ts          # Shared error code registry\n      http-status.ts          # HTTP status code constants\n      config.ts               # Shared configuration constants\n    utils/\n      type-guards.ts          # Runtime type guards\n  package.json\n  tsconfig.json\n```\n\n### Shared Types (initial set)\n```typescript\n// API response envelope\ninterface ApiResponse<T> {\n  success: boolean;\n  data?: T;\n  error?: ApiError;\n  meta?: PaginationMeta;\n}\n\ninterface ApiError {\n  code: string;\n  message: string;\n  details?: Record<string, unknown>;\n}\n\ninterface PaginationMeta {\n  page: number;\n  limit: number;\n  total: number;\n  totalPages: number;\n}\n\n// Auth types\ninterface UserBase {\n  id: string;\n  email: string;\n  displayName: string;\n  tenantId: string;\n}\n```\n\n### Build Configuration\n- TypeScript compilation to ESM + CJS (dual package)\n- Proper `exports` field in package.json for subpath exports\n- Source maps for development\n- tsconfig extends `../../tsconfig.base.json`\n\n### Error Codes Registry\n- Enum-style error code constants shared between frontend and backend\n- Categories: AUTH, VALIDATION, GAME, TENANT, SYSTEM\n\n## Acceptance Criteria\n- [ ] `pnpm --filter shared build` produces valid ESM + CJS output\n- [ ] `apps/web` can import from `@the-dmz/shared`\n- [ ] `apps/api` can import from `@the-dmz/shared`\n- [ ] TypeScript types are available in both consumers\n- [ ] Subpath exports work (`@the-dmz/shared/types`, `@the-dmz/shared/constants`)\n- [ ] No circular dependencies\n\n## References\n- MILESTONES.md: M0 \"Monorepo structure\" (shared types package)\n- DD-08 Section 15: API Integration Layer\n- DD-09 Section 1.2: Module Directory Structure (shared types)\n\n## Dependencies\n- M0-01: Initialize pnpm monorepo workspace\n\n---","comments":[],"createdAt":"2026-02-05T15:21:23Z","labels":[{"id":"LA_kwDOQ_FFzs8AAAACXIw6vQ","name":"M0: Bootstrap","description":"Milestone 0: Project Bootstrap","color":"1D76DB"},{"id":"LA_kwDOQ_FFzs8AAAACXIw9PA","name":"shared","description":"Shared packages & types","color":"BFD4F2"}],"number":4,"title":"M0-04: Create shared TypeScript packages","updatedAt":"2026-02-05T15:21:23Z","url":"https://github.com/TheMorpheus407/the-dmz/issues/4"}
