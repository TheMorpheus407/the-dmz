{"assignees":[],"author":{"id":"MDQ6VXNlcjIyODUzMjIy","is_bot":false,"login":"TheMorpheus407","name":"The Morpheus Tutorials"},"body":"## Summary\n\nConfigure a root-level `pnpm dev` command that starts both the SvelteKit frontend and Fastify backend concurrently. This is **directly required by the M0 exit criterion**: \"`pnpm dev` starts both frontend and backend.\"\n\n**References:** MILESTONES.md line 63, DD-08 Section 7, DD-09 Section 2.1\n\n## Requirements\n\n### Root `package.json` Script\n- Add `\"dev\"` script to root `package.json` using Turborepo's `turbo run dev` or `pnpm --filter` with `concurrently`\n- Both `apps/web` (SvelteKit on port 5173) and `apps/api` (Fastify on port 3000) must start in parallel\n- Stdout/stderr from both services must be clearly labeled (e.g., `[web]` and `[api]` prefixes)\n- Graceful shutdown: killing the root process must cleanly stop both child processes (SIGINT/SIGTERM propagation)\n\n### Port Configuration\n- Default ports configurable via environment variables (`WEB_PORT=5173`, `API_PORT=3000`)\n- Port conflict detection: fail fast with clear error if ports are already in use\n\n### Prerequisite Checks\n- Verify Docker services (PostgreSQL, Redis) are running before starting app servers\n- Print actionable error message if Docker services are down: \"Run `docker compose up -d` first\"\n\n### Additional Scripts\n- `pnpm dev:web` — start only the frontend\n- `pnpm dev:api` — start only the backend\n- `pnpm dev:services` — start only Docker Compose services (PostgreSQL + Redis)\n\n## Acceptance Criteria\n\n- [ ] `pnpm dev` from repo root starts both SvelteKit and Fastify concurrently\n- [ ] Both services are clearly labeled in terminal output\n- [ ] Ctrl+C cleanly stops both processes\n- [ ] Port conflicts produce a clear error message\n- [ ] `pnpm dev:web`, `pnpm dev:api`, `pnpm dev:services` work independently\n- [ ] Docker prerequisite check warns if services aren't running\n\n## Dependencies\n- Depends on: M0-01 (monorepo), M0-02 (SvelteKit), M0-03 (Fastify), M0-06 (Docker Compose)\n- Blocks: M0 exit criteria validation","comments":[],"createdAt":"2026-02-05T15:29:53Z","labels":[{"id":"LA_kwDOQ_FFzs8AAAACXIw6vQ","name":"M0: Bootstrap","description":"Milestone 0: Project Bootstrap","color":"1D76DB"},{"id":"LA_kwDOQ_FFzs8AAAACXIw7rw","name":"infrastructure","description":"CI/CD, Docker, DevOps","color":"0E8A16"}],"number":15,"title":"M0-15: Configure unified `pnpm dev` orchestration script","updatedAt":"2026-02-05T15:29:53Z","url":"https://github.com/TheMorpheus407/the-dmz/issues/15"}
