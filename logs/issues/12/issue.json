{"assignees":[],"author":{"id":"MDQ6VXNlcjIyODUzMjIy","is_bot":false,"login":"TheMorpheus407","name":"The Morpheus Tutorials"},"body":"## Summary\nConfigure Husky for git hooks and lint-staged for pre-commit validation. Ensure code quality checks run automatically before commits and pushes.\n\n## Requirements\n\n### Husky Setup\n- Husky 9.x for git hook management\n- Hooks directory: `.husky/`\n- Automatic setup via `prepare` script in root `package.json`\n\n### Pre-Commit Hook (`.husky/pre-commit`)\n- Runs `lint-staged` on staged files only\n- Fast feedback: only checks changed files\n\n### lint-staged Configuration (`.lintstagedrc.json`)\n```json\n{\n  \"*.{ts,tsx,js,jsx}\": [\"eslint --fix\", \"prettier --write\"],\n  \"*.svelte\": [\"eslint --fix\", \"prettier --write --plugin prettier-plugin-svelte\"],\n  \"*.{json,md,yml,yaml}\": [\"prettier --write\"],\n  \"*.css\": [\"prettier --write\"]\n}\n```\n\n### Pre-Push Hook (`.husky/pre-push`)\n- Runs `pnpm typecheck` (full TypeScript type checking)\n- Prevents pushing code with type errors\n\n### Commit Message Convention\n- Consider `commitlint` with Conventional Commits format\n- Format: `type(scope): description`\n- Types: `feat`, `fix`, `refactor`, `test`, `docs`, `chore`, `ci`, `style`, `perf`\n- Scopes: `web`, `api`, `shared`, `infra`, `ci`\n- Example: `feat(api): add health check endpoints`\n\n### `commitlint` Configuration (`.commitlintrc.json`)\n```json\n{\n  \"extends\": [\"@commitlint/config-conventional\"],\n  \"rules\": {\n    \"scope-enum\": [2, \"always\", [\"web\", \"api\", \"shared\", \"infra\", \"ci\", \"deps\"]],\n    \"subject-case\": [2, \"always\", \"lower-case\"]\n  }\n}\n```\n\n### Commit-MSG Hook (`.husky/commit-msg`)\n- Runs `commitlint --edit $1` to validate commit message format\n\n## Acceptance Criteria\n- [ ] Pre-commit hook runs lint-staged on staged files\n- [ ] Pre-commit hook only processes staged files (fast)\n- [ ] Pre-push hook runs typecheck\n- [ ] Commit messages are validated against Conventional Commits\n- [ ] Invalid commit messages are rejected with helpful error\n- [ ] All hooks can be bypassed with `--no-verify` (escape hatch)\n- [ ] `pnpm install` sets up hooks automatically (prepare script)\n\n## References\n- MILESTONES.md: M0 \"Code quality - Husky hooks\"\n\n## Dependencies\n- M0-10: ESLint configuration\n- M0-11: Prettier configuration\n\n---","comments":[],"createdAt":"2026-02-05T15:23:10Z","labels":[{"id":"LA_kwDOQ_FFzs8AAAACXIw6vQ","name":"M0: Bootstrap","description":"Milestone 0: Project Bootstrap","color":"1D76DB"},{"id":"LA_kwDOQ_FFzs8AAAACXIw9EQ","name":"devtools","description":"Developer tooling & DX","color":"C5DEF5"}],"number":12,"title":"M0-12: Set up Husky git hooks with lint-staged","updatedAt":"2026-02-05T15:23:10Z","url":"https://github.com/TheMorpheus407/the-dmz/issues/12"}
